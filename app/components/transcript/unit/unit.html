<div class="unit">
  <div class="course-wrapper">
    <button class="secondary dropdown tiny"
            ng-click="competenciesVisible = !competenciesVisible">
      <i class='fa' ng-class="{'fa-caret-right':!competenciesVisible, 'fa-caret-down':competenciesVisible}"></i>
    </button>
    <div class="course">
      <div class="right">
        <button
          class="secondary"
          ng-class="{'expanded':evidenceVisible}"
          ng-if="outcomeEvidence.length > 0"
          ng-click="toggleEvidence()">evidence</button>
        <span class="course-id">course: {{unit.label}}</span>
        <div class="evidence-list" ng-show="evidenceVisible">
          <div ng-repeat="ev in outcomeEvidence" class="evidence-item">
            <i class="fa" ng-class="ev.icon"></i>
            <a ng-href="{{ev['@id']}}">{{ev.title}}</a>
          </div>
        </div>
      </div>
      <div class="title">{{unit.title}}</div>
      <prog-bar value="percentage" class="accent small"></prog-bar>
    </div>
    <!--todo: take this out in favor of <ul> -->
    <div class="competency-list" ng-if="competenciesVisible">
      <competency ng-repeat="comp in unit.competencies | filter:competencyMatchesOutcome(outcome)"
                  competency="comp" levels="levels"></competency>
    </div>
  </div>
</div>
